{"version":3,"sources":["js/gallery-modal.js"],"names":["document","querySelectorAll","openModalImg","previewList","querySelector","overlay","modalNextBtn","htmlAndBody","toggleOverlay","isModalOpen","getAttribute","setAttribute","classList","toggle","focusLog","targetElem","setTimeout","focus","closeOverlay","e","which","key","contains","target","matches","removeEventListener","addEventListener","currentTarget"],"mappings":";AAAA,MACuBA,SAASC,iBAAiB,6BAAzCC,MACAC,EAAcH,SAASI,cAAc,uBACrCC,EAAUL,SAASI,cAAc,0BACjCE,EAAeN,SAASI,cAAc,uBACtCG,EAAcP,SAASC,iBAAiB,oBAExCO,EAAgB,KACdC,MAAAA,EAA4D,SAA9CN,EAAYO,aAAa,iBAC7CP,EAAYQ,aAAa,iBAAkBF,GACzCJ,EAAQO,UAAUC,OAAO,aACzBN,EAAY,GAAGK,UAAUC,OAAO,aAChCN,EAAY,GAAGK,UAAUC,OAAO,cAG9BC,EAAWC,IAEfC,WAAW,KACU,OAAfD,GAAqBA,EAAWE,SACnC,MAGCC,EAAeC,MACJ,KAAZA,EAAEC,OAA0B,WAAVD,EAAEE,OAAsBhB,EAAQO,UAAUU,SAAS,cACtEH,EAAEI,OAAOC,QAAQ,6BAChBhB,IAEDH,EAAQoB,oBAAoB,QAASP,GACrCb,EAAQoB,oBAAoB,YAAaP,KAa7Cf,EAAYuB,iBAAiB,QAVTP,IAClBA,EAAEQ,gBAAkBxB,GAClBE,EAAQO,UAAUU,SAAS,eACzBd,IAAiBM,EAASR,GAC5BD,EAAQqB,iBAAiB,QAASR,GAClCb,EAAQqB,iBAAiB,YAAaR,OApC5C","file":"gallery-modal.8de02230.js","sourceRoot":"../src","sourcesContent":["(() => {\n  const openModalImg = document.querySelectorAll('[data-preview-photo-lazy]');\n  const previewList = document.querySelector('[data-preview-list]');\n  const overlay = document.querySelector('[data-gallery-overlay]');\n  const modalNextBtn = document.querySelector('[data-gallery-next]');\n  const htmlAndBody = document.querySelectorAll('[data-no-scroll]');\n\n  const toggleOverlay = () => {\n    const isModalOpen = previewList.getAttribute('aria-expanded') === 'true';\n    previewList.setAttribute('aria-expanded', !isModalOpen),\n      overlay.classList.toggle('is-hidden'), // MUST HAVE\n      htmlAndBody[0].classList.toggle('no-scroll'),\n      htmlAndBody[1].classList.toggle('no-scroll');\n  };\n\n  const focusLog = targetElem => {\n    // Чарівництво\n    setTimeout(() => {\n      if (targetElem !== null) targetElem.focus();\n    }, 250);\n  };\n\n  const closeOverlay = e => {\n    (((e.which === 27 || e.key === 'Escape') && !overlay.classList.contains('is-hidden')) ||\n      e.target.matches('[data-gallery-overlay]')) &&\n      (toggleOverlay(),\n      focusLog,\n      overlay.removeEventListener('keyup', closeOverlay),\n      overlay.removeEventListener('mousedown', closeOverlay));\n  };\n\n  const openOverlay = e => {\n    e.currentTarget === previewList &&\n      overlay.classList.contains('is-hidden') &&\n      ((toggleOverlay(), focusLog(modalNextBtn)),\n      overlay.addEventListener('keyup', closeOverlay),\n      overlay.addEventListener('mousedown', closeOverlay));\n  };\n\n  // event.target = картинка.    if (e.target.nodeName !== 'IMG') return;\n  // event.currentTarget = previewList.\n  previewList.addEventListener('click', openOverlay);\n})();\n"]}