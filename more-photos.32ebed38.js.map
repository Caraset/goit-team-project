{"version":3,"sources":["js/more-photos.js"],"names":["console","log","document","readyState","window","onload","addEventListener","querySelector","previewList","photosLoaderBtn","liBelowFold","querySelectorAll","photosBelowFold","liBelowFoldCount","length","photosHaveSrc","loadPhotos","i","classList","remove","setAttribute","removeAttribute","removeEventListener","refs","openModalList","modal","modalGalleryList","targetsBigImages","belowFoldItems","belowFoldImages","galleryModalItems","targets","galleryNextBtn","galleryBackBtn","svgLoaderWrapper","element","contains","toggle","nextElem","backElem"],"mappings":";AAAA,aAGEA,QAAQC,IAAI,8BAEdD,QAAQC,IAAI,KAAOC,SAASC,YAC5BC,OAAOC,OAAS,WACdL,QAAQC,IAAI,WAEdC,SAASI,iBAAiB,mBAAoB,WAC5CN,QAAQC,IAAI,sBAEdC,SAASI,iBAAiB,mBAAoB,WACxCJ,SAASC,WAGTD,SAASC,WAGTD,SAASC,WAGbH,QAAQC,IAAIC,SAASC,cAGvB,MACsBD,SAASK,cAAc,uBAArCC,MACAC,EAAkBP,SAASK,cAAc,wBACzCG,EAAcR,SAASS,iBAAiB,wBACxCC,EAAkBV,SAASS,iBAAiB,4BAC5CE,EAAmBH,EAAYI,OAAS,EAE1CC,IAAAA,EAAgB,EACdC,MAAAA,EAAa,KACZ,IAAA,IAAIC,EAAI,EAAGA,GAAK,IAAKA,EACxBP,EAAYK,GAAeG,UAAUC,OAAO,aAC5CP,EAAgBG,GAAeK,aAAa,MAAO,KAEnDR,EAAgBG,GAAeM,gBAAgB,0BAC3CN,EAAgBF,KAAoBE,EAG1CA,IAAkBF,GAAoBJ,EAAgBa,oBAAoB,QAASN,IAGrFP,EAAgBH,iBAAiB,QAASU,IApB5C,GAuBA,MAEQO,MAAAA,EAAO,CACXC,cAAetB,SAASK,cAAc,sBACtCkB,MAAOvB,SAASK,cAAc,0BAC9BmB,iBAAkBxB,SAASK,cAAc,uBACzCoB,iBAAkBzB,SAASS,iBAAiB,wBAC5CiB,eAAgB1B,SAASS,iBAAiB,wBAC1CkB,gBAAiB3B,SAASS,iBAAiB,4BAC3CmB,kBAAmB5B,SAASS,iBAAiB,uBAC7CoB,QAAS7B,SAASS,iBAAiB,sBACnCqB,eAAgB9B,SAASK,cAAc,uBACvC0B,eAAgB/B,SAASK,cAAc,uBACvC2B,iBAAkBhC,SAASK,cAAc,yBAK3CgB,EAAKS,eAAe1B,iBAAiB,QAAS,KACvC,IAAA,IAAIW,EAAI,EAAGA,EAAIM,EAAKO,kBAAkBhB,OAAQG,IAAK,CAChDkB,MAAAA,EAAUZ,EAAKO,kBAAkBb,GAEnCkB,GAAAA,EAAQjB,UAAUkB,SAAS,iBAAkB,CAC/CD,EAAQjB,UAAUmB,OAAO,iBAAkBF,EAAQjB,UAAUmB,OAAO,aAEhEC,IAAAA,EAAW,EAQf,OANEA,EADErB,IAAMM,EAAKO,kBAAkBhB,OAAS,EAC7BS,EAAKO,kBAAkB,GAEvBP,EAAKO,kBAAkBb,EAAI,IAG/BC,UAAUmB,OAAO,kBAAcC,EAASpB,UAAUmB,OAAO,qBAOxEd,EAAKU,eAAe3B,iBAAiB,QAAS,KACvC,IAAA,IAAIW,EAAIM,EAAKO,kBAAkBhB,OAAS,EAAGG,GAAK,EAAGA,IAAK,CACrDkB,MAAAA,EAAUZ,EAAKO,kBAAkBb,GAEnCkB,GAAAA,EAAQjB,UAAUkB,SAAS,iBAAkB,CAC/CD,EAAQjB,UAAUmB,OAAO,iBAAkBF,EAAQjB,UAAUmB,OAAO,aAEhEE,IAAAA,EAAW,EAQf,OANEA,EADQ,IAANtB,EACSM,EAAKO,kBAAkBP,EAAKO,kBAAkBhB,OAAS,GAEvDS,EAAKO,kBAAkBb,EAAI,IAG/BC,UAAUmB,OAAO,kBAAcE,EAASrB,UAAUmB,OAAO,sBArD1E","file":"more-photos.32ebed38.js","sourceRoot":"../src","sourcesContent":["'use strict';\n// self envoking arrow function\n(() => {\n  console.log('1. self envoking in script');\n})();\nconsole.log('2.' + document.readyState); // logs \"loading\" first\nwindow.onload = function () {\n  console.log('onload'); // I fire later\n};\ndocument.addEventListener('DOMContentLoaded', function () {\n  console.log('DOMContentLoaded');\n});\ndocument.addEventListener('readystatechange', function () {\n  if (document.readyState == 'loading') {\n    //document is loading, does not fire here since no change from \"loading\" to \"loading\"\n  }\n  if (document.readyState == 'interactive') {\n    //document fully read. fires before DOMContentLoaded\n  }\n  if (document.readyState == 'complete') {\n    //document fully read and all resources (like images) loaded. fires after DOMContentLoaded\n  }\n  console.log(document.readyState);\n});\n\n(() => {\n  const previewList = document.querySelector('[data-preview-list]');\n  const photosLoaderBtn = document.querySelector('[data-photos-loader]');\n  const liBelowFold = document.querySelectorAll('[data-li-below-fold]');\n  const photosBelowFold = document.querySelectorAll('[data-photos-below-fold]');\n  const liBelowFoldCount = liBelowFold.length - 1;\n\n  let photosHaveSrc = 0;\n  const loadPhotos = () => {\n    for (let i = 0; i <= 2; ++i) {\n      liBelowFold[photosHaveSrc].classList.remove('is-hidden');\n      photosBelowFold[photosHaveSrc].setAttribute('src', '#');\n      // console.log(`Attribute 'src' has been set ${photosHaveSrc + 1} times`);\n      photosBelowFold[photosHaveSrc].removeAttribute('data-photos-below-fold');\n      if (photosHaveSrc < liBelowFoldCount) ++photosHaveSrc;\n    }\n\n    photosHaveSrc === liBelowFoldCount && photosLoaderBtn.removeEventListener('click', loadPhotos);\n  };\n\n  photosLoaderBtn.addEventListener('click', loadPhotos);\n})();\n\n(() => {\n  // Image src replace (for lazy-loading)\n  const refs = {\n    openModalList: document.querySelector('[data-photos-list]'),\n    modal: document.querySelector('[data-gallery-overlay]'),\n    modalGalleryList: document.querySelector('[data-gallery-list]'),\n    targetsBigImages: document.querySelectorAll('[data-gallery-image]'),\n    belowFoldItems: document.querySelectorAll('[data-li-below-fold]'),\n    belowFoldImages: document.querySelectorAll('[data-photos-below-fold]'),\n    galleryModalItems: document.querySelectorAll('[data-gallery-item]'),\n    targets: document.querySelectorAll('[data-photos-lazy]'),\n    galleryNextBtn: document.querySelector('[data-gallery-next]'),\n    galleryBackBtn: document.querySelector('[data-gallery-back]'),\n    svgLoaderWrapper: document.querySelector('[data-photos-loader]'),\n  };\n\n  // carousel for refs.targetsBigImages\n  // toggle classes for next listItem without 'is-hidden' = slide forwards\n  refs.galleryNextBtn.addEventListener('click', () => {\n    for (let i = 0; i < refs.galleryModalItems.length; i++) {\n      const element = refs.galleryModalItems[i];\n\n      if (element.classList.contains('current-slide')) {\n        element.classList.toggle('current-slide'), element.classList.toggle('is-hidden');\n\n        let nextElem = 0;\n        if (i === refs.galleryModalItems.length - 1) {\n          nextElem = refs.galleryModalItems[0];\n        } else {\n          nextElem = refs.galleryModalItems[i + 1];\n        }\n\n        nextElem.classList.toggle('is-hidden'), nextElem.classList.toggle('current-slide');\n        return;\n      }\n    }\n  });\n\n  // toggle classes for back listItem without 'is-hidden' = slide backwards\n  refs.galleryBackBtn.addEventListener('click', () => {\n    for (let i = refs.galleryModalItems.length - 1; i >= 0; i--) {\n      const element = refs.galleryModalItems[i];\n\n      if (element.classList.contains('current-slide')) {\n        element.classList.toggle('current-slide'), element.classList.toggle('is-hidden');\n\n        let backElem = 0;\n        if (i === 0) {\n          backElem = refs.galleryModalItems[refs.galleryModalItems.length - 1];\n        } else {\n          backElem = refs.galleryModalItems[i - 1];\n        }\n\n        backElem.classList.toggle('is-hidden'), backElem.classList.toggle('current-slide');\n        return;\n      }\n    }\n  });\n})();\n"]}